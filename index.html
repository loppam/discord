<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Document</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> -->
</head>
<body class="container mt-5">
    <form id="discord-form">
        <h2>GNUBERPLUG - Place an Order</h2>
        <p>What kind of order do you want to place?</p>
        <input type="radio" id="option1" name="option" value="UberEats Delivery ($35 Min/Max)">
        <label for="option1">UberEats Delivery ($35 Min/Max)</label><br>
        <input type="radio" id="option2" name="option" value="UberEats Pickup ($25 Min/Max)">
        <label for="option2">UberEats Pickup ($25 Min/Max)</label><br>
        <input type="radio" id="option3" name="option" value="[UNFINISHED] Uber Ride ($20-$25 Min/Max)">
        <label for="option3">[UNFINISHED] Uber Ride ($20-$25 Min/Max)</label><br>
        <input type="radio" id="option4" name="option" value="[UNFINISHED] Instacart Delivery/Pickup ($25-$30 Min/Max)">
        <label for="option4">[UNFINISHED] Instacart Delivery/Pickup ($25-$30 Min/Max)</label><br>
        <br>
        <label for="name">What is the name you want the order to be under?<br>(Include First/Last Name)</label><br>
        <input type="text" id="name" name="name" required>
        <br>
        <label for="address">What is the address for the order?<br>(Add Delivery Instructions/Phone Number Here)</label><br>
        <input type="text" id="address" name="address" required>
        <br>
        <label for="restaurant">What is the restaurant?<br>(Include Address If Many)</label><br>
        <input type="text" id="restaurant" name="restaurant" required>
        <br>
        <label for="telegram">What is your Telegram @?<br>(Contact Method for Us)<br>(Leave Blank if You Are Contacting Us Through Snapchat)</label><br>
        <input type="text" id="telegram" name="telegram">
        <br>
        <label for="snapchat">What is your Snapchat @?<br>(Contact Method for Us)<br>(Leave Blank if You Are Contacting Us Through Telegram)</label><br>
        <input type="text" id="snapchat" name="snapchat">
        <br>
        <label for="done">Before you finish this form, be sure to send me a screenshot of your order you created on UberEats.
        <br>Make sure to split up the order into multiple screenshots if you are placing multiple orders!<br><br><a href="https://telegra.ph/GNUBERPLUG--TOS-02-19" target="_blank">Click "Done" after you have read our TOS</a></label><br>
        <input type="checkbox" id="done" name="done" required>
        <br>
        <input type="submit" value="Submit">
    </form>
</body>
<script>
const discordForm = document.getElementById('discord-form');
// add an event listener to the form submit event
discordForm.addEventListener('submit', event => {
  // prevent the form from submitting normally
  event.preventDefault();

  // get the selected option
  const selectedOption = document.querySelector('input[name="option"]:checked').value;

  // get the message content
  const name = document.getElementById('name').value;
  const address = document.getElementById('address').value;
  const restaurant = document.getElementById('restaurant').value;
  const telegram = document.getElementById('telegram').value;
  const snapchat = document.getElementById('snapchat').value;
  // construct the payload object
  const payload = {
    content: `${selectedOption} \n ${name} \n ${address} \n ${restaurant} \n ${telegram} \n ${snapchat}`
  };

  // send the payload to the webhook
  fetch('https://discord.com/api/webhooks/1104339163618234448/sgGGCWY87B61TLrRJccGIheCNkZnQjEDKk1XM52J3GB9dBjdvj4fVUDhr2vWTdP_m_er', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(payload)
  })
    .then(response => {
      if (response.ok) {
        console.log('Message sent successfully!');
      } else {
        console.error('Failed to send message:', response.statusText);
      }
    })
    .catch(error => console.error('Error:', error));
});
</script>
</html>