<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Document</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> -->
</head>
<body class="container mt-5">
    <form id="discord-form">
        <h2>GNUBERPLUG - Place an Order</h2>
        <p>What kind of order do you want to place?</p>
        <input type="radio" id="option1" name="option" value="UberEats Delivery ($35 Min/Max)">
        <label for="option1">UberEats Delivery ($35 Min/Max)</label><br>
        <input type="radio" id="option2" name="option" value="UberEats Pickup ($25 Min/Max)">
        <label for="option2">UberEats Pickup ($25 Min/Max)</label><br>
        <input type="radio" id="option3" name="option" value="[UNFINISHED] Uber Ride ($20-$25 Min/Max)">
        <label for="option3">[UNFINISHED] Uber Ride ($20-$25 Min/Max)</label><br>
        <input type="radio" id="option4" name="option" value="[UNFINISHED] Instacart Delivery/Pickup ($25-$30 Min/Max)">
        <label for="option4">[UNFINISHED] Instacart Delivery/Pickup ($25-$30 Min/Max)</label><br>
        <br>
        <label for="message">Message:</label><br>
        <textarea id="message" name="message" rows="4" cols="50"></textarea>
        <br>
        <input type="submit" value="Submit">
      </form>
</body>
<script>
const discordForm = document.getElementById('discord-form');
// add an event listener to the form submit event
discordForm.addEventListener('submit', event => {
  // prevent the form from submitting normally
  event.preventDefault();

  // get the selected option
  const selectedOption = document.querySelector('input[name="option"]:checked').value;

  // get the message content
  const message = document.getElementById('message').value;

  // construct the payload object
  const payload = {
    content: `${selectedOption} /n ${message}`
  };

  // send the payload to the webhook
  fetch('https://discord.com/api/webhooks/1104339163618234448/sgGGCWY87B61TLrRJccGIheCNkZnQjEDKk1XM52J3GB9dBjdvj4fVUDhr2vWTdP_m_er', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(payload)
  })
    .then(response => {
      if (response.ok) {
        console.log('Message sent successfully!');
      } else {
        console.error('Failed to send message:', response.statusText);
      }
    })
    .catch(error => console.error('Error:', error));
});
</script>
</html>